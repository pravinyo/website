<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.4.1" /><meta property="og:title" content="REST API Based Workflow Design Using iWF Framework" /><meta name="author" content="Pravin Tripathi" /><meta property="og:locale" content="en" /><meta name="description" content="Using the iWF DSL framework to write workflow on the top of the Temporal platform" /><meta property="og:description" content="Using the iWF DSL framework to write workflow on the top of the Temporal platform" /><link rel="canonical" href="https://pravin.dev/posts/workflow-using-iwf-framework/" /><meta property="og:url" content="https://pravin.dev/posts/workflow-using-iwf-framework/" /><meta property="og:site_name" content="Pravin on Software" /><meta property="og:image" content="https://pravin.dev/header.jpg" /><meta property="og:image:height" content="400" /><meta property="og:image:width" content="1000" /><meta property="og:image:alt" content="Generated using Bing AI" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2023-10-02T00:00:00+05:30" /><meta name="twitter:card" content="summary_large_image" /><meta property="twitter:image" content="https://pravin.dev/header.jpg" /><meta name="twitter:image:alt" content="Generated using Bing AI" /><meta property="twitter:title" content="REST API Based Workflow Design Using iWF Framework" /><meta name="twitter:site" content="@pravin_yo" /><meta name="twitter:creator" content="@pravin_yo" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Pravin Tripathi","url":"https://www.linkedin.com/in/pravin-r-tripathi"},"dateModified":"2023-10-02T16:14:37+05:30","datePublished":"2023-10-02T00:00:00+05:30","description":"Using the iWF DSL framework to write workflow on the top of the Temporal platform","headline":"REST API Based Workflow Design Using iWF Framework","image":{"width":1000,"height":400,"alt":"Generated using Bing AI","url":"https://pravin.dev/header.jpg","@type":"imageObject"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://pravin.dev/posts/workflow-using-iwf-framework/"},"url":"https://pravin.dev/posts/workflow-using-iwf-framework/"}</script><title>REST API Based Workflow Design Using iWF Framework | Pravin on Software</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Pravin on Software"><meta name="application-name" content="Pravin on Software"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> <img src="/assets/img/avatar.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Pravin on Software</a></div><div class="site-subtitle font-italic">My Learning and Experiments in Software Engineering</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/pravinyo" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/pravin_yo" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['pravinyo12','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper"><div id="topbar" class="container d-flex align-items-center justify-content-between h-100 pl-3 pr-3 pl-md-4 pr-md-4"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>REST API Based Workflow Design Using iWF Framework</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper" class="d-flex justify-content-center"><div id="main" class="container pl-xl-4 pr-xl-4"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pr-xl-4"><div class="post pl-1 pr-1 pl-md-2 pr-md-2"><h1 data-toc-skip>REST API Based Workflow Design Using iWF Framework</h1><div class="post-meta text-muted"> <span> Posted <em class="" data-ts="1696185000" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Oct 2, 2023 </em> </span> <span> Updated <em class="" data-ts="1696243477" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Oct 2, 2023 </em> </span><div class="mt-3 mb-3"> <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1000 400'%3E%3C/svg%3E" data-src="/assets/img/workflow-design-using-iwf-framework/header.jpg" class="preview-img bg" alt="Generated using Bing AI" width="1000" height="400" data-proofer-ignore><figcaption class="pt-2 pb-2">Generated using Bing AI</figcaption></div><div class="d-flex justify-content-between"> <span> By <em> <a href="https://www.linkedin.com/in/pravin-r-tripathi">Pravin Tripathi</a> </em> </span><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1730 words"> <em>9 min</em> read</span></div></div></div><div class="post-content"><h1 id="using-the-iwf-dsl-framework-to-write-workflow-on-the-top-of-the-temporal-platform">Using the iWF DSL framework to write workflow on the top of the Temporal platform</h1><p>In this article, We are going to discuss Workflow and design a simple use case using the iWF framework (with Temporal Server).</p><h2 id="part-1-basics-concepts"><span class="mr-2">Part 1: Basics Concepts</span><a href="#part-1-basics-concepts" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Before directly jumping to code, Let’s see some concepts about workflow and Temporal Server.</p><h3 id="runtime-platform"><span class="mr-2">Runtime platform</span><a href="#runtime-platform" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Provide the ecosystem to run your applications and take care of the <code class="language-plaintext highlighter-rouge">durability, availability, and scalability</code> of the application. Both Cadence(from Uber) and Temporal share the same behavior as Temporal is forked from Cadence. <strong>Worker Processes are hosted by you and execute your code</strong>. The communication within the Cluster uses <strong>gRPC</strong>. Cadence/Temporal service is responsible for keeping workflow state and associated durable timers. It maintains internal queues (called task lists) which are used to dispatch tasks to external workers. Workflow execution is resumable, recoverable, and reactive.</p><ul><li><a href="https://cadenceworkflow.io/docs/get-started/">Cadence Doc</a><li><a href="https://docs.temporal.io/temporal">Temporal Doc</a><li><a href="https://github.com/indeedeng/iwf/wiki/Basic-concepts-overview">iWF Project</a></ul><p><img data-src="/assets/img/workflow-design-using-iwf-framework/temporal-service.png" alt="Temporal service" data-proofer-ignore> <em>Temporal System Overview for workflow execution</em></p><h3 id="what-is-workflow"><span class="mr-2">What is Workflow?</span><a href="#what-is-workflow" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>The term Workflow frequently denotes either a Workflow Type, a Workflow Definition, or a Workflow Execution.</p><ul><li>Workflows are sequences of tasks/steps that are executed in a specific order.<li>It is based on the principle of separation of concerns.<li>It focuses on the design and implementation of business processes as workflows.<li><strong>Workflow Definition</strong>: A Workflow Definition is the code that defines the constraints of a Workflow Execution. A Workflow Definition is often also referred to as a Workflow Function.<li><strong>Deterministic constraints</strong>: A critical aspect of developing Workflow Definitions is ensuring they exhibit certain deterministic traits – that is, making sure that the same Commands are emitted in the same sequence, whenever a corresponding Workflow Function Execution (instance of the Function Definition) is re-executed.<li><strong>Handling unreliable Worker Processes</strong>: Workflow Function Executions are completely oblivious to the Worker Process in terms of failures or downtime.<li><em>Event Loop:</em><br /> <img data-src="/assets/img/workflow-design-using-iwf-framework/workflow-execution.png" alt="img_1.png" data-proofer-ignore><li><em>Workflow execution states:</em> <img data-src="/assets/img/workflow-design-using-iwf-framework/workflow-execution-state.png" alt="img.png" data-proofer-ignore></ul><h3 id="what-is-a-workflow-engine"><span class="mr-2">What is a Workflow Engine?</span><a href="#what-is-a-workflow-engine" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ul><li>A workflow engine facilitates the flow of information, tasks, and events.<li>The workflow engine is responsible for managing the execution of workflows.<li>Workflow engines may also be referred to as Workflow Orchestration Engines<li>The other components of the system are responsible for performing the specific tasks that make up the workflows</ul><h3 id="what-is-the-activities-or-workflow-state"><span class="mr-2">What is the activities or workflow state?</span><a href="#what-is-the-activities-or-workflow-state" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ul><li>An Activity is a normal function or method that executes a single, well-defined action (either short or long-running), such as calling another service, transcoding a media file, or sending an email message.<li>Workflow code orchestrates the execution of Activities, persisting the results. If an Activity Function Execution fails, any future execution starts from the initial state<li>Activity Functions are executed by Worker Processes<li>Workflow State is used in the domain of the iWF framework which is the same as Activities in Cadence or Temporal.</ul><h3 id="event-handling"><span class="mr-2">Event handling</span><a href="#event-handling" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Workflows can be signaled about an external event. A signal is always point-to-point destined to a specific workflow instance. Signals are always processed in the order in which they are received.</p><ul><li>Human Tasks<li>Process Execution Alteration<li>Synchronization<br /> Example: there is a requirement that all messages for a single user are processed sequentially but the underlying messaging infrastructure can deliver them in parallel. The Cadence solution would be to have a workflow per user and signal it when an event is received. Then the workflow would buffer all signals in an internal data structure and then call an activity for every signal received.</ul><h3 id="visibility"><span class="mr-2">Visibility</span><a href="#visibility" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ul><li>View, Filter, and Search for Workflow Executions<ul><li>https://docs.temporal.io/visibility#list-filter-examples<li>https://docs.temporal.io/visibility#search-attribute</ul><li>Query Workflow state</ul><h2 id="part-2-temporal-server-design"><span class="mr-2">Part 2: Temporal Server Design</span><a href="#part-2-temporal-server-design" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Both Cadence and Temporal provide a platform to execute our workflow function which is nothing but business logic.</p><p><img data-src="/assets/img/workflow-design-using-iwf-framework/cadence-service.png" alt="img.png" data-proofer-ignore></p><h3 id="what-are-the-components-of-the-cadencetemporal-server"><span class="mr-2">What are the components of the Cadence/Temporal server?</span><a href="#what-are-the-components-of-the-cadencetemporal-server" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>The server consists of four independently scalable services:</p><ul><li><strong>Frontend gateway:</strong> for rate limiting, routing, and authorizing.<li><strong>History service:</strong>maintains data (workflow mutable state, event and history storage, task queues, and timers).<li><strong>Matching service:</strong> hosts Task Queues for dispatching.<li><strong>Worker Service:</strong> Worker Service: for internal background Workflows (replication queue, system Workflows).<li><a href="https://docs.temporal.io/clusters">Read more…</a></ul><h2 id="part-3-iwf-framework-design-temporal-as-backend"><span class="mr-2">Part 3: iWF Framework Design (Temporal as Backend)</span><a href="#part-3-iwf-framework-design-temporal-as-backend" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>iWF is the framework that is developed to simply run the workflow and harness the full potential of the Cadence/Temporal Server.</p><h3 id="high-level-design"><span class="mr-2">High-Level Design</span><a href="#high-level-design" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>An iWF application is composed of several iWF workflow workers. <strong>These workers host REST APIs as “worker APIs” for the server to call</strong>. This callback pattern is similar to AWS Step Functions invoking Lambdas if you are familiar with it.</p><p>An application also performs actions on workflow executions, such as starting, stopping, signaling, and retrieving results by calling iWF service APIs “service APIs”.</p><p>The service APIs are provided by the “API service” in the iWF server. Internally, this API service communicates with the Cadence/Temporal service as its backend.<br /> <img data-src="/assets/img/workflow-design-using-iwf-framework/iwf-architecture.png" alt="HLD for iWF" data-proofer-ignore></p><h3 id="low-level-design"><span class="mr-2">Low-Level Design</span><a href="#low-level-design" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Users define their workflow code with a new SDK “iWF SDK” and the code is running in workers that talk to the iWF interpreter engine.</p><p>The user workflow code defines a list of WorkflowState and kicks off a workflow execution. At any workflow state, the interpreter will call back the user workflow code to invoke some APIs (waitUntil or execute). Calling the waitUntil API will return some command requests. When the command requests are finished, the interpreter will then call the user workflow code to invoke the “execute” API to return a decision.</p><p>The decision will decide how to complete or transition to other workflow states. At any API, workflow code can mutate the data/search attributes or publish to internal channels.<br /> <img data-src="/assets/img/workflow-design-using-iwf-framework/iwf-workflow-execution.png" alt="LLD for iWF" data-proofer-ignore></p><h3 id="rpc-interact-with-workflow-via-api"><span class="mr-2">RPC: Interact with workflow via API</span><a href="#rpc-interact-with-workflow-via-api" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Using RPC annotation is one of the ways to interact with the workflow from external sources like REST API, and Kafka event. It can access persistence, internal channels, and state execution. <img data-src="/assets/img/workflow-design-using-iwf-framework/communication.png" alt="communication" data-proofer-ignore><br /> <a href="https://github.com/indeedeng/iwf/wiki/RPC#signal-channel-vs-rpc">RPC vs Signal</a><br /> Both RPC and Signal are the two ways to communicate from an external system with the workflow execution.</p><ul><li>RPC is a synchronous API call - <a href="https://github.com/indeedeng/iwf-java-sdk/blob/main/src/main/java/io/iworkflow/core/RpcDefinitions.java">Definition</a><li>The signal channel is an Asynchronous API.</ul><p>Some recommend, as a best practice, to use RPC with an Internal channel to asynchronously call the workflow. It is basically to replace the Signal API.<br /> <code class="language-plaintext highlighter-rouge">RPC + Internal Channel =&gt; Signal Channel</code></p><blockquote class="prompt-info"><div><p>Internal-Channel and Signal Channel are both message queues</p></div></blockquote><h3 id="iwf-approach-to-determinism-and-versioning"><span class="mr-2">iWF Approach to Determinism and Versioning</span><a href="#iwf-approach-to-determinism-and-versioning" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>There are some problems with the history replay for the workflow which causes non-determinism issues due to events like workflow state deletion or business logic changes, etc.</p><ul><li>iWF framework recommends using the flag to control the code execution as versioning is removed.<li>Since there is no versioning, the non-determinism issue will not happen.<li>Read more: <a href="https://github.com/indeedeng/iwf/wiki/Compare-with-Cadence-Temporal#determinism-and-versioning">IWF doc</a></ul><h3 id="example-of-atomicity-using-rpc-for-sending-message-state-transition-and-saving-data-in-db"><span class="mr-2">Example of Atomicity using RPC for sending message, state transition, and saving data in DB.</span><a href="#example-of-atomicity-using-rpc-for-sending-message-state-transition-and-saving-data-in-db" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">UserSignupWorkflow</span> <span class="kd">implements</span> <span class="nc">ObjectWorkflow</span> <span class="o">{</span>
  <span class="o">...</span>

    <span class="c1">// Atomically read/write/send message in RPC</span>
    <span class="nd">@RPC</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">verify</span><span class="o">(</span><span class="nc">Context</span> <span class="n">context</span><span class="o">,</span> <span class="nc">Persistence</span> <span class="n">persistence</span><span class="o">,</span> <span class="nc">Communication</span> <span class="n">communication</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">String</span> <span class="n">status</span> <span class="o">=</span> <span class="n">persistence</span><span class="o">.</span><span class="na">getDataAttribute</span><span class="o">(</span><span class="n">DA_Status</span><span class="o">,</span> <span class="nc">String</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">status</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s">"verified"</span><span class="o">))</span> <span class="o">{</span>
            <span class="k">return</span> <span class="s">"already verified"</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="n">persistence</span><span class="o">.</span><span class="na">setDataAttribute</span><span class="o">(</span><span class="n">DA_Status</span><span class="o">,</span> <span class="s">"verified"</span><span class="o">);</span>
        <span class="n">communication</span><span class="o">.</span><span class="na">publishInternalChannel</span><span class="o">(</span><span class="no">VERIFY_CHANNEL</span><span class="o">,</span> <span class="kc">null</span><span class="o">);</span>
        <span class="k">return</span> <span class="s">"done"</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="o">...</span>
<span class="o">}</span>
</pre></table></code></div></div><h2 id="part-4-simple-workflow-example-using-iwf"><span class="mr-2">Part 4: Simple workflow example using iWF</span><a href="#part-4-simple-workflow-example-using-iwf" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Below is the workflow diagram of the KYC application based on Aadhaar. <img data-src="/assets/img/workflow-design-using-iwf-framework/kyc-workflow.png" alt="diagram" data-proofer-ignore></p><h3 id="step-1-write-workflow-definition"><span class="mr-2">Step 1: Write Workflow definition</span><a href="#step-1-write-workflow-definition" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">AadhaarKycWorkflow</span> <span class="kd">implements</span> <span class="nc">ObjectWorkflow</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">StateDef</span><span class="o">&gt;</span> <span class="n">stateDefs</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">AadhaarKycWorkflow</span><span class="o">(</span><span class="nc">Client</span> <span class="n">client</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">stateDefs</span> <span class="o">=</span> <span class="nc">List</span><span class="o">.</span><span class="na">of</span><span class="o">(</span>
                <span class="nc">StateDef</span><span class="o">.</span><span class="na">startingState</span><span class="o">(</span><span class="k">new</span> <span class="nc">GenerateAadhaarOtpStep</span><span class="o">()),</span>
                <span class="nc">StateDef</span><span class="o">.</span><span class="na">nonStartingState</span><span class="o">(</span><span class="k">new</span> <span class="nc">ValidateAadhaarOtpStep</span><span class="o">()),</span>
                <span class="nc">StateDef</span><span class="o">.</span><span class="na">nonStartingState</span><span class="o">(</span><span class="k">new</span> <span class="nc">SaveAadhaarDetailsStep</span><span class="o">(</span><span class="n">client</span><span class="o">))</span>
        <span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">StateDef</span><span class="o">&gt;</span> <span class="nf">getWorkflowStates</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">stateDefs</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">PersistenceFieldDef</span><span class="o">&gt;</span> <span class="nf">getPersistenceSchema</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="nc">List</span><span class="o">.</span><span class="na">of</span><span class="o">(</span>
                <span class="nc">SearchAttributeDef</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="nc">SearchAttributeValueType</span><span class="o">.</span><span class="na">TEXT</span><span class="o">,</span> <span class="s">"customer_id"</span><span class="o">),</span>
                <span class="nc">SearchAttributeDef</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="nc">SearchAttributeValueType</span><span class="o">.</span><span class="na">TEXT</span><span class="o">,</span> <span class="s">"aadhaar_id"</span><span class="o">),</span>
                <span class="nc">SearchAttributeDef</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="nc">SearchAttributeValueType</span><span class="o">.</span><span class="na">TEXT</span><span class="o">,</span> <span class="s">"parentWorkflowId"</span><span class="o">)</span>
        <span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">CommunicationMethodDef</span><span class="o">&gt;</span> <span class="nf">getCommunicationSchema</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="nc">List</span><span class="o">.</span><span class="na">of</span><span class="o">(</span>
                <span class="nc">SignalChannelDef</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="nc">String</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="s">"AadhaarOtpSignal"</span><span class="o">),</span>
                <span class="nc">SignalChannelDef</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="nc">String</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="no">SC_SYSTEM_KYC_COMPLETED</span><span class="o">)</span>
        <span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><p><code class="language-plaintext highlighter-rouge">StateDef.startingState</code>: Starting step/task/activity which workflow will execute. <code class="language-plaintext highlighter-rouge">StateDef.nonStartingState</code>: It will be executed based on the State’s decision. <code class="language-plaintext highlighter-rouge">getPersistenceSchema()</code>: return types of data that will be accessed by the workflow. This data will be persisted as long as workflow history is preserved. <code class="language-plaintext highlighter-rouge">getCommunicationSchema()</code>: different types of communication that workflow will require to complete the tasks.</p><h3 id="step-2-write-workflow-state"><span class="mr-2">Step 2: Write Workflow State</span><a href="#step-2-write-workflow-state" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>It is also called the actual business rules that you want workflow to execute.</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">ValidateAadhaarOtpStep</span> <span class="kd">implements</span> <span class="nc">WorkflowState</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="nc">Class</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="nf">getInputType</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="nc">String</span><span class="o">.</span><span class="na">class</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="nc">CommandRequest</span> <span class="nf">waitUntil</span><span class="o">(</span><span class="nc">Context</span> <span class="n">context</span><span class="o">,</span> <span class="nc">String</span> <span class="n">input</span><span class="o">,</span> <span class="nc">Persistence</span> <span class="n">persistence</span><span class="o">,</span> <span class="nc">Communication</span> <span class="n">communication</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="nc">CommandRequest</span><span class="o">.</span><span class="na">forAllCommandCompleted</span><span class="o">(</span>
                <span class="nc">SignalCommand</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="s">"AadhaarOtpSignal"</span><span class="o">)</span>
        <span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="nc">StateDecision</span> <span class="nf">execute</span><span class="o">(</span><span class="nc">Context</span> <span class="n">context</span><span class="o">,</span> <span class="nc">String</span> <span class="n">aadhaarReferenceId</span><span class="o">,</span> <span class="nc">CommandResults</span> <span class="n">commandResults</span><span class="o">,</span> <span class="nc">Persistence</span> <span class="n">persistence</span><span class="o">,</span> <span class="nc">Communication</span> <span class="n">communication</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">var</span> <span class="n">otp</span> <span class="o">=</span> <span class="o">(</span><span class="nc">String</span><span class="o">)</span> <span class="n">commandResults</span><span class="o">.</span><span class="na">getSignalValueByIndex</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">validateOtp</span><span class="o">(</span><span class="n">aadhaarReferenceId</span><span class="o">,</span> <span class="n">otp</span><span class="o">))</span> <span class="o">{</span>
            <span class="kt">var</span> <span class="n">details</span> <span class="o">=</span> <span class="n">fetchAadhaarDetails</span><span class="o">(</span><span class="n">aadhaarReferenceId</span><span class="o">,</span> <span class="n">otp</span><span class="o">);</span>
            <span class="k">return</span> <span class="nc">StateDecision</span><span class="o">.</span><span class="na">singleNextState</span><span class="o">(</span><span class="nc">SaveAadhaarDetailsStep</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="n">details</span><span class="o">);</span>

        <span class="o">}</span>

        <span class="k">return</span> <span class="nc">StateDecision</span><span class="o">.</span><span class="na">singleNextState</span><span class="o">(</span><span class="nc">ValidateAadhaarOtpStep</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="n">aadhaarReferenceId</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="nc">Boolean</span> <span class="nf">validateOtp</span><span class="o">(</span><span class="nc">String</span> <span class="n">aadhaarReferenceId</span><span class="o">,</span> <span class="nc">String</span> <span class="n">otp</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">log</span><span class="o">.</span><span class="na">info</span><span class="o">(</span><span class="s">"call aadhaar validate OTP API and fetch details for referenceId:{} and OTP:{}"</span><span class="o">,</span> <span class="n">aadhaarReferenceId</span><span class="o">,</span> <span class="n">otp</span><span class="o">);</span>
        <span class="k">return</span> <span class="nc">Objects</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">otp</span><span class="o">,</span> <span class="s">"1234"</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><p><code class="language-plaintext highlighter-rouge">waitUntil()</code> and <code class="language-plaintext highlighter-rouge">execute()</code>: are the two sub-steps that the workflow state executed in sequence to finish the task.<br /> <code class="language-plaintext highlighter-rouge">waitUntil()</code>: It returns Signals, Timer, or Internal event that the task is waiting to happen. Once that event is completed, execute() will be invoked.<br /> <code class="language-plaintext highlighter-rouge">StateDecision</code>: It returns the next state that workflow should be expected to execute. This will be executed only when the Temporal/Cadence Server schedules the task on the internal worker queue.</p><h3 id="step-3-rest-api-endpoint-to-provide-input-to-workflow"><span class="mr-2">Step 3: REST API endpoint to provide input to workflow</span><a href="#step-3-rest-api-endpoint-to-provide-input-to-workflow" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre><td class="rouge-code"><pre>    <span class="nd">@PostMapping</span><span class="o">(</span><span class="s">"/kyc/aadhaar/otp"</span><span class="o">)</span>
    <span class="nc">ResponseEntity</span><span class="o">&lt;</span><span class="nc">Response</span><span class="o">&gt;</span> <span class="nf">validateAadhaarOtp</span><span class="o">(</span>
            <span class="nd">@RequestParam</span> <span class="nc">String</span> <span class="n">otp</span><span class="o">,</span>
            <span class="nd">@RequestParam</span> <span class="nc">String</span> <span class="n">customerId</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">var</span> <span class="n">workflowId</span> <span class="o">=</span> <span class="n">getWorkflowIdForAadhaar</span><span class="o">(</span><span class="n">customerId</span><span class="o">);</span>
        <span class="kt">var</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">describeWorkflow</span><span class="o">(</span><span class="n">workflowId</span><span class="o">);</span>

        <span class="k">if</span> <span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">getWorkflowStatus</span><span class="o">().</span><span class="na">equals</span><span class="o">(</span><span class="nc">WorkflowStatus</span><span class="o">.</span><span class="na">RUNNING</span><span class="o">))</span> <span class="o">{</span>
            <span class="n">client</span><span class="o">.</span><span class="na">signalWorkflow</span><span class="o">(</span><span class="nc">AadhaarKycWorkflow</span><span class="o">.</span><span class="na">class</span><span class="o">,</span>
                    <span class="n">workflowId</span><span class="o">,</span> <span class="s">"AadhaarOtpSignal"</span><span class="o">,</span> <span class="n">otp</span><span class="o">);</span>
            <span class="k">return</span> <span class="nc">ResponseEntity</span><span class="o">.</span><span class="na">ok</span><span class="o">(</span><span class="k">new</span> <span class="nc">Response</span><span class="o">(</span><span class="s">"success"</span><span class="o">,</span> <span class="s">""</span><span class="o">));</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="nc">ResponseEntity</span><span class="o">.</span><span class="na">internalServerError</span><span class="o">().</span><span class="na">body</span><span class="o">(</span><span class="k">new</span> <span class="nc">Response</span><span class="o">(</span><span class="s">"Workflow not running"</span><span class="o">,</span> <span class="s">""</span><span class="o">));</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="nc">String</span> <span class="nf">getWorkflowIdForAadhaar</span><span class="o">(</span><span class="nc">String</span> <span class="n">customerId</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="s">"WF-LAMF-KYC-"</span><span class="o">+</span><span class="n">customerId</span><span class="o">;</span>
    <span class="o">}</span>
</pre></table></code></div></div><h2 id="part-5-different-use-cases"><span class="mr-2">Part 5: Different Use Cases</span><a href="#part-5-different-use-cases" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Below are the examples to understand the usage of different APIs of the iWF framework.</p><ul><li><a href="https://github.com/indeedeng/iwf/wiki/Use-case-study-%E2%80%90%E2%80%90-Microservice-Orchestration">Microservice Orchestration</a><li><a href="https://github.com/indeedeng/iwf/wiki/Use-case-study-%E2%80%90%E2%80%90-user-signup-workflow">user signup workflow</a><li><a href="https://github.com/pravinyo/workflow/tree/main/src/main/java/dev/pravin/workflow/kyc">KYC Workflow</a><li><a href="https://github.com/pravinyo/workflow/tree/main/src/main/java/dev/pravin/workflow/shop">Product order workflow</a><li><a href="https://github.com/pravinyo/workflow/tree/main/src/main/java/dev/pravin/workflow/lamf">Loan application workflow</a></ul><p>Project Link:</p><ul><li><a href="https://github.com/pravinyo/workflow">Github project</a><li><a href="https://github.com/indeedeng/iwf">iWF Project</a></ul><h2 id="conclusion"><span class="mr-2">Conclusion</span><a href="#conclusion" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>iWF framework has really simplified writing applications using workflow-oriented architecture. Writing applications with the direct APIs provided by Cadence/Temporal has a steep learning curve. Due to this, beginners make some common mistakes, and writing a workflow that uses the full potential of the system is challenging for newcomers.</p><p>iWF Project is basically a wrapper on the top of Cadence and Temporal System which helps lower the learning curve and also helps writing workflow that uses the full potential of the system which is really great.</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/blogging/'>Blogging</a>, <a href='/categories/article/'>Article</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/backenddevelopment/" class="post-tag no-text-decoration" >backenddevelopment</a> <a href="/tags/design/" class="post-tag no-text-decoration" >design</a> <a href="/tags/java/" class="post-tag no-text-decoration" >java</a> <a href="/tags/softwareengineering/" class="post-tag no-text-decoration" >softwareengineering</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=REST+API+Based+Workflow+Design+Using+iWF+Framework+-+Pravin+on+Software&url=https%3A%2F%2Fpravin.dev%2Fposts%2Fworkflow-using-iwf-framework%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=REST+API+Based+Workflow+Design+Using+iWF+Framework+-+Pravin+on+Software&u=https%3A%2F%2Fpravin.dev%2Fposts%2Fworkflow-using-iwf-framework%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Fpravin.dev%2Fposts%2Fworkflow-using-iwf-framework%2F&text=REST+API+Based+Workflow+Design+Using+iWF+Framework+-+Pravin+on+Software" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fpravin.dev%2Fposts%2Fworkflow-using-iwf-framework%2F" data-toggle="tooltip" data-placement="top" title="Linkedin" target="_blank" rel="noopener" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/database-engineering-fundamental-part-2/">Part 2: Database Engineering Fundamentals</a><li><a href="/posts/system-design-roadmap/">Comprehensive Roadmap for Low-Level and High-Level Design Interview Preparation</a><li><a href="/database-engineering-fundamental-part-5/write-amplification-problem-in-postgresql/">Part 5: Database Engineering Fundamentals: Write Amplification Problem in PostgreSQL</a><li><a href="/database-engineering-fundamental-part-1/">Part 1: Database Engineering Fundamentals</a><li><a href="/database-engineering-fundamental-part-1/database-page/">Part 1: Database Engineering Fundamentals: Database Page</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/backenddevelopment/">backenddevelopment</a> <a class="post-tag" href="/tags/softwareengineering/">softwareengineering</a> <a class="post-tag" href="/tags/database-engineering/">database-engineering</a> <a class="post-tag" href="/tags/design/">design</a> <a class="post-tag" href="/tags/coding/">coding</a> <a class="post-tag" href="/tags/smells/">smells</a> <a class="post-tag" href="/tags/java/">java</a> <a class="post-tag" href="/tags/nodejs/">nodejs</a> <a class="post-tag" href="/tags/softwaredevelopment/">softwaredevelopment</a> <a class="post-tag" href="/tags/aws/">aws</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 pl-3 pr-3 pr-xl-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/approaches-for-start-and-resume-journey-for-user-onboarding-to-platform-part-i/"><div class="card-body"> <em class="small" data-ts="1647714600" data-df="ll" > Mar 20, 2022 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Approaches for Start and Resume Journey for User Onboarding to Platform</h3><div class="text-muted small"><p> User onboarding to platform is very important process before they access services offered by the platform. The most important part is code sharing which becomes problem at some point if right desig...</p></div></div></a></div><div class="card"> <a href="/posts/what-makes-api-documentation-terrible/"><div class="card-body"> <em class="small" data-ts="1660329000" data-df="ll" > Aug 13, 2022 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>What makes API documentation terrible?</h3><div class="text-muted small"><p> Is this another article on How to write documentation? No, this article is not about How to write API documentation but about what things everyone should avoid while writing API documentation. This...</p></div></div></a></div><div class="card"> <a href="/posts/saga-pattern-state-in-reactive-system/"><div class="card-body"> <em class="small" data-ts="1661884200" data-df="ll" > Aug 31, 2022 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>State in reactive system - Orchestration-based Saga Pattern</h3><div class="text-muted small"><p> State in Reactive System In this presentation, I talked about something we are already familiar. For some, it will be a refreshing session; for others, it will be new learning. We see how our des...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/code-smell-big-classs/" class="btn btn-outline-primary" prompt="Older"><p>Code Smell Series: Big Class</p></a> <a href="/posts/understanding-the-impact-of-inaccurate-user-acceptance-testing-environment/" class="btn btn-outline-primary" prompt="Newer"><p>Understanding the impact of inaccurate User Acceptance Testing Environment</p></a></div><div id="disqus_thread" class="pt-2 pb-2"><p class="text-center text-muted small"> Comments powered by <a href="https://disqus.com/">Disqus</a>.</p></div><script type="text/javascript"> var disqus_config = function () { this.page.url = 'https://pravin.dev/posts/workflow-using-iwf-framework/'; this.page.identifier = '/posts/workflow-using-iwf-framework/'; }; /* Lazy loading */ var disqus_observer = new IntersectionObserver(function (entries) { if(entries[0].isIntersecting) { (function () { var d = document, s = d.createElement('script'); s.src = 'https://pravin-dev.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); })(); disqus_observer.disconnect(); } }, { threshold: [0] }); disqus_observer.observe(document.querySelector('#disqus_thread')); /* Auto switch theme */ function reloadDisqus() { /* Disqus hasn't been loaded */ if (typeof DISQUS === "undefined") { return; } if (document.readyState == 'complete') { DISQUS.reset({ reload: true, config: disqus_config }); } } const modeToggle = document.querySelector(".mode-toggle"); if (typeof modeToggle !== "undefined") { /* modeToggle.addEventListener('click', reloadDisqus); // not pretty for 'color-scheme' */ window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', reloadDisqus); } </script></div></div><footer class="row pl-3 pr-3"><div class="col-12 d-flex justify-content-between align-items-center text-muted pl-0 pr-0"><div class="footer-left"><p class="mb-0"> © 2025 <a href="https://www.linkedin.com/in/pravin-r-tripathi">Pravin Tripathi</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/backenddevelopment/">backenddevelopment</a> <a class="post-tag" href="/tags/softwareengineering/">softwareengineering</a> <a class="post-tag" href="/tags/database-engineering/">database-engineering</a> <a class="post-tag" href="/tags/design/">design</a> <a class="post-tag" href="/tags/coding/">coding</a> <a class="post-tag" href="/tags/smells/">smells</a> <a class="post-tag" href="/tags/java/">java</a> <a class="post-tag" href="/tags/nodejs/">nodejs</a> <a class="post-tag" href="/tags/softwaredevelopment/">softwaredevelopment</a> <a class="post-tag" href="/tags/aws/">aws</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a><div id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-animation="true" data-autohide="false"><div class="toast-header"> <button type="button" class="ml-2 ml-auto close" data-dismiss="toast" aria-label="Close"> <span aria-hidden="true">&times;</span> </button></div><div class="toast-body text-center pt-0"><p class="pl-2 pr-2 mb-3">A new version of content is available.</p><button type="button" class="btn btn-primary" aria-label="Update"> Update </button></div></div><script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No results found.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/en.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-WP90FFJ6SJ"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-WP90FFJ6SJ'); }); </script>
